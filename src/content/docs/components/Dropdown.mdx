---
title: Dropdown
description: A drop down selector
---

import ShowComponent from "../../../components/doc-helpers/ShowComponent.astro";
import BasicDropdown from "../../../components/dropdown/BasicDropdown.html";
import ErrorDropdown from "../../../components/dropdown/ErrorDropdown.html";
import InactiveDropdown from "../../../components/dropdown/InactiveDropdown.html";
import SearchDropdown from "../../../components/dropdown/SearchDropdown.html";

The dropdown system provides three basic variations with different states and styling options. Each dropdown is built using the native HTML `<details>` and `<summary>` elements, enhanced with custom styling and functionality.

## Dropdown Styles

### Basic Dropdown

The basic dropdown provides standard functionality with hover and active states. It includes a label, placeholder text, and optional helper text. When the content exceeds the maximum height, a scrollbar appears allowing users to navigate through all options while maintaining a consistent component height.

<ShowComponent filePath="./src/components/dropdown/BasicDropdown.html">
  <BasicDropdown />
</ShowComponent>

### Error Dropdown

The Error Dropdown variant displays validation errors with a distinct red border and error message. It includes an error icon for better visibility.

<ShowComponent filePath="./src/components/dropdown/ErrorDropdown.html">
  <ErrorDropdown />
</ShowComponent>

### Inactive Dropdown

The Inactive Dropdown represents a disabled state where user interaction is prevented. It displays with muted colors and a disabled cursor.

<ShowComponent filePath="./src/components/dropdown/InactiveDropdown.html">
  <InactiveDropdown />
</ShowComponent>

### Search Dropdown

The Search Dropdown extends the basic dropdown functionality with a search input field, allowing users to filter through options in real-time.

<ShowComponent filePath="./src/components/dropdown/SearchDropdown.html">
  <SearchDropdown />
</ShowComponent>

## CSS Variables

The dropdown system can be customized using CSS variables:

### Colors and Styling

| Variable                              | Default Value                     | Description                           |
| ------------------------------------- | --------------------------------- | ------------------------------------- |
| `--dropdown-text-color`               | `var(--text-black)`               | Main text color for the dropdown      |
| `--dropdown-text-label-color`         | `var(--text-high-emphasis)`       | Color of the dropdown label           |
| `--dropdown-text-summary-color`       | `var(--text-high-emphasis)`       | Color of the dropdown summary text    |
| `--dropdown-text-helper-color`        | `var(--text-high-emphasis)`       | Color of the helper text              |
| `--dropdown-text-option-color`        | `var(--text-high-emphasis)`       | Color of the dropdown options         |
| `--dropdown-text-inactive-color`      | `var(--text-inactive)`            | Color for inactive dropdown text      |
| `--dropdown-text-error-color`         | `var(--text-error)`               | Color for error text                  |
| `--dropdown-surface`                  | `var(--surface-white)`            | Background color of the dropdown      |
| `--dropdown-surface-controls-default` | `var(--surface-controls-default)` | Default background color for controls |
| `--dropdown-surface-controls-dark`    | `var(--surface-controls-dark)`    | Dark background color for controls    |
| `--dropdown-surface-hover`            | `var(--surface-primary-lightest)` | Background color on hover             |
| `--dropdown-border-color`             | `var(--border-controls)`          | Border color for the dropdown         |
| `--dropdown-border-color-hover`       | `var(--border-primary)`           | Border color on hover                 |
| `--dropdown-border-color-active`      | `var(--border-primary)`           | Border color when active              |
| `--dropdown-border-color-error`       | `var(--border-error)`             | Border color for error state          |
| `--dropdown-icon-color`               | `var(--icons-black)`              | Color of the dropdown icons           |
| `--dropdown-icon-error-color`         | `var(--icons-error)`              | Color of the error icon               |

### Typography

| Variable                              | Default Value                  | Description                         |
| ------------------------------------- | ------------------------------ | ----------------------------------- |
| `--dropdown-text-label-size`          | `var(--text-size-body)`        | Font size of the dropdown label     |
| `--dropdown-text-label-line-height`   | `var(--line-height-body)`      | Line height of the dropdown label   |
| `--dropdown-text-summary-size`        | `var(--text-size-body)`        | Font size of the dropdown summary   |
| `--dropdown-text-summary-line-height` | `var(--line-height-body)`      | Line height of the dropdown summary |
| `--dropdown-text-helper-size`         | `var(--text-size-sm)`          | Font size of the helper text        |
| `--dropdown-text-helper-line-height`  | `var(--line-height-sm)`        | Line height of the helper text      |
| `--dropdown-text-option-size`         | `var(--text-size-body)`        | Font size of the dropdown options   |
| `--dropdown-text-option-line-height`  | `var(--line-height-body)`      | Line height of the dropdown options |
| `--dropdown-font-weight-label`        | `var(--font-weight-semi-bold)` | Font weight of the dropdown label   |
| `--dropdown-font-weight-summary`      | `var(--font-weight-normal)`    | Font weight of the dropdown summary |
| `--dropdown-font-weight-helper`       | `var(--font-weight-normal)`    | Font weight of the helper text      |
| `--dropdown-font-weight-option`       | `var(--font-weight-normal)`    | Font weight of the dropdown options |

### Layout and Sizing

| Variable                          | Default Value             | Description                                |
| --------------------------------- | ------------------------- | ------------------------------------------ |
| `--dropdown-border-radius`        | `var(--radius-size-none)` | Border radius of the dropdown              |
| `--dropdown-border`               | `0px`                     | Border width of the dropdown               |
| `--dropdown-width`                | `16rem`                   | Width of the dropdown                      |
| `--dropdown-gap`                  | `0.25rem`                 | Gap between dropdown elements              |
| `--dropdown-padding-y`            | `0.5rem`                  | Vertical padding of the dropdown           |
| `--dropdown-padding-x`            | `1rem`                    | Horizontal padding of the dropdown         |
| `--dropdown-menu-margin-top`      | `0.25rem`                 | Top margin of the dropdown menu            |
| `--dropdown-border-width-default` | `1px`                     | Default border width                       |
| `--dropdown-border-width-active`  | `2px`                     | Border width when active                   |
| `--dropdown-max-items`            | `5`                       | Maximum number of visible items            |
| `--dropdown-item-height`          | `2.5rem`                  | Height of each dropdown item               |
| `--dropdown-menu-shadow`          | `var(--shadow-md)`        | Shadow of the dropdown menu                |
| `--dropdown-menu-padding-y`       | `0.5rem`                  | Vertical padding of the dropdown menu      |
| `--dropdown-search-height`        | `3rem`                    | Height of the search input in the dropdown |

### Scrolling Behavior

The dropdown uses a dynamic max-height calculation based on the following formula:

```css
max-height: calc((var(--dropdown-item-height) * var(--dropdown-max-items)));
```

This ensures consistent height across all dropdown variants. When content exceeds this height, a scrollbar appears automatically. For the search dropdown, the formula is adjusted to account for the search input:

```css
max-height: calc(
  (var(--dropdown-item-height) * var(--dropdown-max-items)) +
    var(--dropdown-search-height)
);
```

## Accessibility

The dropdown components are built with accessibility in mind, using semantic HTML and ARIA attributes to ensure they work well with screen readers and keyboard navigation.

### Current Implementation Features

#### Structure and Labeling

- Each dropdown is wrapped in a `region` with a clear description of its purpose
- Every dropdown has a proper label that's connected to the component using `aria-labelledby`
- The dropdown uses the native HTML `<details>` and `<summary>` elements for built-in keyboard support
- `aria-describedby` is used to provide additional context where needed

#### Keyboard Support

The current implementation provides:

- Space/Enter keys to open/close the dropdown (built-in with `<details>`)
- Tab navigation between focusable elements
- Focus indicators on interactive elements

#### Screen Reader Support

Each variant includes specific features for screen readers:

**Basic Dropdown:**

- [x] Clear labeling with `aria-labelledby` to connect the dropdown to its label
- [x] Additional context provided with `aria-describedby` for the summary element
- [x] Helper text that updates through an `aria-live="polite"` region
- [x] Options marked with `role="option"` and `aria-selected` states
- [x] Expanded state indicated with `aria-expanded` on the wrapper and summary

**Error Dropdown:**

- [x] Error state indicated with `aria-invalid="true"`
- [x] Error message announced through `aria-live="assertive"` for immediate attention
- [x] Error icon hidden from screen readers with `aria-hidden="true"`
- [x] Summary element connected to both label and error message via `aria-labelledby` and `aria-describedby`

**Inactive Dropdown:**

- [x] Clearly marked as disabled using `aria-disabled="true"` on multiple elements
- [x] Disabled state reflected in helper text
- [x] All options marked with `aria-disabled="true"`

**Search Dropdown:**

- [x] Search input labeled with `sr-only` class for screen readers
- [x] Search icon marked as decorative with `aria-hidden="true"`
- [x] Results list maintains proper ARIA roles and states
- [x] Search input connected to results list with `aria-controls`

### Required JavaScript Implementation

#### Keyboard Navigation

Implement the following keyboard interactions:

- [ ] Up/Down arrows to navigate through options
- [ ] Home/End keys to jump to first/last option
- [ ] Type-ahead functionality to jump to options starting with typed characters
- [ ] Escape key to close the dropdown
- [ ] Enter/Space to select the current option

#### ARIA State Management

Update the following ARIA states dynamically:

- [ ] `aria-selected="true"` on the currently selected option
- [ ] `aria-expanded` state on the dropdown button
- [ ] Update `aria-activedescendant` to reflect the currently focused option
- [ ] Maintain proper focus management when dropdown closes

#### Search Functionality

For search dropdown variant:

- [ ] Announce number of search results to screen readers
- [ ] Update `aria-live` region when search results change
- [ ] Maintain focus within search results when navigating
- [ ] Reset search and focus when dropdown closes
